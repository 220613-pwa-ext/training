# Project 1: Expense Reimbursement System

## Summary
The expense reimbursement system (ERS) will manage the process of reimbursing employees for expenses incurred on company time. Employees in the company can login and submit requests for reimbursement and view their past tickets and pending requests. Finance managers can log in and view all reimbursement requests and past history for all employees in the company. Finance managers are authorized to approve and deny requests for expense reimbursement.

## Database Schema
Here is the suggested schema for simplicity. The project MUST utilize and display at least the data shown in this table

* 2 tables:
    1. ers_users
        - user_id SERIAL (PK)   
            - The primary key of the ers_users table
        - username VARCHAR
            - The username of the user
        - password VARCHAR
            - The password of the user
        - first_name VARCHAR
            - The first name of the user
        - last_name VARCHAR
            - The last name of the user
        - email VARCHAR
            - The email of the user
        - role VARCHAR
            - The role of the user, either
                1. 'finance_manager'
                2. 'employee'
    2. ers_reimbursement
        - reimb_id SERIAL (PK)
            - The primary key of the ers_reimbursement table
        - reimbursement_amount NUMERIC
            - The amount of money that was requested to be reimbursed
        - submitted TIMESTAMP
            - The date + time in which the reimbursement request was submitted
            - Ideally, this should correspond with the time on the backend server, so the time should be generated by logic on the backend itself rather than sent as part of a client POST request
        - resolved TIMESTAMP
            - The date + time in which the reimbursement request was approved/denied
            - Ideally, this should correspond with the time on the backend server, so the time should be generated by logic on the backend itself rather than sent as part of a client POST request
        - status VARCHAR
            - The status of the reimbursement
            - Can be one of the following
                1. pending
                2. approved
                3. denied
        - type VARCHAR
            - The type of reimbursement
            - Can be one of the following
                1. Lodging
                2. Travel
                3. Food
                4. Other
        - description VARCHAR
            - A description providing the context and purpose of the reimbursement
        - receipt BYTEA
            - Storing a receipt image such as .PNG, .JPG, .GIF on the database
        - reimb_author INTEGER (FK)
            - Foreign key to the users table indicating who submitted the reimbursement
            - "A user (particularly with employee role) can have many reimbursements"
        - reimb_resolver INTEGER (FK)
            - Foreign key to the users table indicating who approved/denied the reimbursement
            - "A user (particularly with finance_manager role) can approve/deny many reimbursements"

## User Stories
* Login (2 user stories)
    - As an employee, I want to be able to login, so that I can view my past requests and add new reimbursement requests
    - As a finance manager, I want to be able to login, so that I can manage and view all reimbursements for all employees
* View reimbursement (2 user stories)
    - As an employee, I want to be able to view all of my reimbursements, so that I can see the data of all of my reimbursement requests and the status of them (pending, approved, denied)
    - As a finance manager, I want to be able to view ALL employee reimbursements, so that I can see the data of the entire company's reimbursement requests and approve/deny the requests that are pending
* Filter reimbursement requests by status (2 user stories)
    - As an employee, I want to be able to filter my past requests by status (approved, denied, pending), so that I can more easily view them
    - As a finance manager, I want to be able to filter all past requests by all employees by status (approved, denied, pending), so that I can more easily view them
* Add reimbursement request (1 user story)
    - As an employee, I want to be able to add a reimbursement request, so that they can either be approved or denied by a finance manager
* Approve/deny reimbursement request (1 user story)
    - As a finance manager, I want to be able to approve/deny a pending reimbursement request, so that I can proceed with transferring money to the employee if the reimbursement is approved or not if it's denied

## Technical Requirements
- The application should consist of a frontend + backend
- The backend should be written in Python
- The backend should utilize Flask as a means to establish an HTTP server that listens for HTTP requests from the frontend and provides an appropriate HTTP response
- The backend should connect to a postgres databse using Psycopg
- The frontend should be a multi-page application that utilizes HTML, CSS, and JavaScript
- The frontend should use the fetch API to send HTTP requests to the backend
- Passwords should be hashed using a hashing algorithm such as MD5, SHA256, or BCrypt to be securely stored in the database
- Users should upload a receipt image (.PNG, .JPG, .GIF) when submitting reimbursements

### Testing requirements
- Unit testing
    - Utilize pytest + pytest-mock packages
    - 80-90% service layer code coverage
    - Should be written during development of the backend
- End-to-end testing
    - Required to create test scenarios for each user story and document it in a spreadsheet
    - Required to create test cases for each user story and document it in a spreadsheet
    - Manual execution
        - Required to MANUALLY execute the test cases on finished application (frontend + backend)
        - Required to provide a report on # of test cases created for each user story, how many passed/failed

## Project 1 suggested step by step approach 
1. Create multiple acceptance criteria for each user story first (there are 8 user stories total)
2. Use the acceptance criteria to create test scenarios
3. Use the test scenarios to create test cases (E2E tests)
4. Implement the application (frontend + backend)
    - Start with the databse
        - Create the database tables
        - Insert some sample data into the database
    - Move onto backend
        - Think about what endpoints are required
        - Write these down
        - Implement the endpoints
        - Write unit tests for service layer
    - Move onto frontend
        - Create layout of website using HTML + CSS first
            - Prototype the website with dummy "hard-coded" data in the HTML
        - Utilize JavaScript to add dynamic behavior (send HTTP requests + render HTTP response data to screen) 
5. Execute the test cases manually
6. Write a short report on # of E2E test cases passed/failed
